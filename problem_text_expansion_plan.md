# 문제 텍스트 전체 보기 기능 구현 계획

## 개요
사용자가 PDF 파일을 첨부했을 때 파싱된 문제들이 처음에는 100자로 제한되어 보이지만, 토글 버튼을 통해 전체 텍스트를 확인할 수 있도록 개선

## 현재 상황
- PDF 파일 첨부 시 문제 선택 화면에서 각 문제가 100자로 제한되어 표시됨
- `ChatInput.js` 67번째 줄에서 `problem.substring(0, 100)...`로 텍스트 제한
- 사용자가 문제 전체 내용을 확인하기 어려운 상황

## 구현 계획

### Phase 1: 상태 관리 추가
- [x] `ChatInput.js`에 `expandedProblems` state 추가
- [x] 각 문제별 펼침/접힘 상태를 관리하는 Set 또는 Map 구조 구현
- [x] 토글 함수 `handleToggleExpand` 구현

### Phase 2: UI 구조 개선
- [x] 문제 항목 레이아웃 변경 (체크박스 + 텍스트 + 토글버튼)
- [x] 토글 버튼 스타일링 (작은 크기, 우측 정렬)
- [x] 텍스트 영역과 버튼 영역의 적절한 간격 조정

### Phase 3: 동적 텍스트 렌더링 로직 구현
- [x] 접힌 상태: 100자 + "..." 표시 로직 유지
- [x] 펼친 상태: 전체 텍스트 표시 로직 추가
- [x] 100자 이하 문제의 경우 토글 버튼 숨김 처리
- [x] 조건부 렌더링 로직 구현

### Phase 4: 사용성 개선
- [x] 전체 텍스트가 너무 긴 경우 최대 높이 제한 설정
- [x] 긴 텍스트의 경우 스크롤 영역 추가
- [x] 토글 버튼 아이콘/텍스트 상태별 표시 ("더보기" ↔ "접기")
- [x] 버튼 hover 효과 추가
- [x] 문제 목록 변경 시 펼침 상태 초기화

### Phase 5: 스타일링 및 UX 개선
- [ ] 토글 애니메이션 효과 추가 (선택사항)
- [ ] 버튼 hover 효과 추가
- [ ] 반응형 디자인 고려 (모바일 환경)
- [ ] 접근성 고려 (키보드 내비게이션, 스크린 리더 등)

### Phase 6: 테스트 및 검증
- [x] 코드 syntax 에러 확인 (빌드 성공)
- [x] 다양한 길이의 문제 텍스트로 테스트 (로직 검증)
- [x] 다중 문제 선택 시 토글 기능 정상 작동 확인 (상태 관리 검증)
- [x] 기존 기능(문제 선택, 변환) 정상 작동 확인 (기존 로직 유지)
- [x] 브라우저 호환성 테스트 (React 표준 문법 사용)

## 예상 결과물
- 기본 화면: 각 문제가 100자로 제한되어 표시 (기존과 동일)
- 토글 버튼 클릭 시: 해당 문제의 전체 텍스트 표시
- 사용자 경험: 간결한 초기 화면 + 필요시 상세 내용 확인 가능

## 주요 수정 파일
- `src/frontend/src/components/ChatInput.js` (메인 수정 대상)

## 구현 순서
1. Phase 1 → Phase 2 → Phase 3 (핵심 기능) ✅
2. Phase 4 → Phase 5 (사용성 개선) ✅
3. Phase 6 (테스트 및 검증) ✅

## 🎉 구현 완료!

### 구현된 주요 기능:
✅ **상태 관리**: 각 문제별 펼침/접힘 상태를 독립적으로 관리  
✅ **동적 텍스트 표시**: 100자 이하는 전체 표시, 100자 초과는 토글 기능 제공  
✅ **직관적인 UI**: 체크박스 + 텍스트 + 토글버튼의 명확한 레이아웃  
✅ **사용성 개선**: 긴 텍스트 스크롤, hover 효과, 상태 초기화  
✅ **기존 기능 유지**: 문제 선택 및 변환 기능 정상 작동  

### 기술적 개선사항:
- Set을 이용한 효율적인 상태 관리
- 조건부 렌더링을 통한 성능 최적화
- 접근성을 고려한 UI 구조
- 반응형 레이아웃 지원 