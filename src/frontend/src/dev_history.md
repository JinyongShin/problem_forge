# 프론트엔드 개발 히스토리

## 📋 **주요 개발 마일스톤**

### 1. 프로젝트 기반 구조 (초기 설정)
- **React 기반 설정**: `create-react-app` 기반 프로젝트 생성
- **컴포넌트 구조**: `src/components` 디렉토리 구조 정립
- **기본 정리**: React 템플릿 제거 및 App.js 구조 정리

### 2. 채팅 UI 아키텍처 설계 ⭐
- **3분할 레이아웃**: 좌측(대화 리스트) + 우측(채팅창) + 하단(입력창)
- **핵심 컴포넌트**:
  - `ChatSidebar` - 대화 리스트 및 관리
  - `ChatWindow` - 채팅 내역 표시
  - `ChatInput` - 텍스트 입력 및 파일 첨부
- **상태 관리**: App.js에서 중앙화된 상태 관리

### 3. 파일 입력 처리 아키텍처 ⭐
- **다중 입력 지원**: 텍스트, PDF, 이미지 파일 첨부
- **클라이언트 사이드 PDF 처리**: `pdfjs-dist`를 사용한 브라우저 내 PDF 텍스트 추출
- **통합 입력 핸들러**: 모든 입력 타입을 일관된 구조로 처리

### 4. UI/UX 고도화
- **대화 관리**: 대화 생성/수정/삭제, 이름 변경 기능
- **파일 첨부 UI**: 첨부된 파일명 표시 및 검증
- **보안 강화**: 파일 타입/용량 검증, 악성 입력 방지

## 🔧 **핵심 기술적 해결책**

### PDF.js 워커 파일 문제 해결
- **문제**: "Failed to fetch dynamically imported module" 오류
- **원인**: CDN 방식의 PDF.js 워커 파일 로딩 실패
- **해결책**: 로컬 파일 방식으로 전환
  ```javascript
  // node_modules에서 public/pdf.worker.min.js로 복사
  pdfjsLib.GlobalWorkerOptions.workerSrc = '/pdf.worker.min.js';
  ```
- **효과**: 외부 의존성 제거, 성능 향상, 안정적 PDF 처리

### 프론트엔드 주도 아키텍처 ⭐
- **PDF 처리**: 백엔드 대신 클라이언트에서 직접 텍스트 추출
- **파일 업로드**: 파일 자체가 아닌 추출된 텍스트를 백엔드로 전송
- **구조 단순화**: 백엔드 API 변경 없이 PDF 기능 구현

## 📊 **현재 상태 (2024)**
- ✅ **완성된 채팅 UI**: 대화 관리, 파일 첨부, 텍스트 입력
- ✅ **다중 파일 지원**: PDF, 이미지, 텍스트 통합 처리
- ✅ **클라이언트 사이드 PDF**: `pdfjs-dist` 기반 안정적 PDF 처리
- ✅ **보안 및 검증**: 파일 타입, 용량, 악성 입력 방지
- ✅ **UI/UX 최적화**: Gemini 스타일 참고한 직관적 인터페이스

## 🚀 **아키텍처 의의**
현재의 **프론트엔드 주도 아키텍처**는 백엔드 복잡성을 줄이고 클라이언트에서 PDF 처리를 담당함으로써 전체 시스템을 단순화하는 핵심 설계 결정입니다. 